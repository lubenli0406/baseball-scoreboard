<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="æ£’çƒè¨ˆåˆ†æ¿">
<meta name="mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#000000">
<title>æ£’çƒè¨ˆåˆ†æ¿</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;}
html,body{width:100%;height:100%;background:#000;font-family:'Arial Black','Microsoft JhengHei',Arial,sans-serif;overflow:hidden;color:#fff;user-select:none;touch-action:none;}
#sb{position:fixed;inset:0;display:flex;flex-direction:column;background:linear-gradient(160deg,#060a14 0%,#0a1828 50%,#060a14 100%);}
#top-bar{flex-shrink:0;height:9vw;display:flex;align-items:center;justify-content:space-between;padding:0 3vw;background:linear-gradient(90deg,#030d1c,#081e38,#030d1c);border-bottom:1px solid #1a3f6a;}
#game-title{font-size:3.5vw;color:#f0c040;font-weight:900;text-shadow:0 0 10px rgba(240,192,64,.5);letter-spacing:.05em;flex:1;text-align:center;}
#clock{font-size:3vw;color:#7ad4ff;font-family:'Courier New',monospace;flex-shrink:0;}
#scores-area{flex-shrink:0;height:38vw;display:flex;}
.team-col{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2vw;position:relative;}
.team-col.home{background:linear-gradient(135deg,#041830,#0a2d55,#041830);border-right:1px solid #1a3f6a;}
.team-col.away{background:linear-gradient(135deg,#1a0408,#3d0a14,#1a0408);border-left:1px solid #5a1a26;}
.team-ha{font-size:2.5vw;color:#6688aa;letter-spacing:.2em;text-transform:uppercase;margin-bottom:1vw;}
.team-name{font-size:6vw;font-weight:900;text-align:center;line-height:1.1;margin-bottom:1vw;}
.team-col.home .team-name{color:#60b0ff;text-shadow:0 0 15px rgba(96,176,255,.6);}
.team-col.away .team-name{color:#ff6060;text-shadow:0 0 15px rgba(255,96,96,.6);}
.team-score{font-size:22vw;font-weight:900;line-height:1;font-variant-numeric:tabular-nums;}
.team-col.home .team-score{color:#60d0ff;text-shadow:0 0 30px rgba(96,208,255,.8);}
.team-col.away .team-score{color:#ff8080;text-shadow:0 0 30px rgba(255,128,128,.8);}
.pitcher-label{font-size:2.5vw;color:#6688aa;margin-top:1.5vw;}
.pitcher-name{font-size:3vw;color:#c0d0e0;font-weight:bold;text-align:center;}
.score-hint{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.55);font-size:3.2vw;color:#fff;text-align:center;line-height:1.8;opacity:0;pointer-events:none;transition:opacity .3s;}
#center-strip{flex-shrink:0;height:22vw;display:flex;align-items:stretch;background:linear-gradient(180deg,#040c18,#081828,#040c18);border-top:1px solid #1a3f6a;border-bottom:1px solid #1a3f6a;}
#inning-block{width:22vw;display:flex;flex-direction:column;align-items:center;justify-content:center;border-right:1px solid #1a3f6a;gap:1vw;}
#inning-label{font-size:2.5vw;color:#6688aa;letter-spacing:.15em;}
#inning-num{font-size:12vw;font-weight:900;color:#f0c040;text-shadow:0 0 20px rgba(240,192,64,.7);line-height:1;}
#inning-arrow{font-size:4vw;color:#f0c040;margin-top:-1vw;}
#bso-block{flex:1;display:flex;flex-direction:column;justify-content:center;padding:0 4vw;gap:2.5vw;}
.bso-row{display:flex;align-items:center;gap:2.5vw;}
.bso-lbl{font-size:3.5vw;font-weight:900;width:5vw;}
.bso-lbl.b{color:#50dd50;}.bso-lbl.s{color:#f0c040;}.bso-lbl.o{color:#ff6644;}
.bso-dots{display:flex;gap:2.5vw;}
.dot{width:5vw;height:5vw;border-radius:50%;border:2px solid;transition:all .15s;}
.dot.b{border-color:#50dd50;}.dot.s{border-color:#f0c040;}.dot.o{border-color:#ff6644;}
.dot.b.on{background:#50dd50;box-shadow:0 0 8px #50dd50;}
.dot.s.on{background:#f0c040;box-shadow:0 0 8px #f0c040;}
.dot.o.on{background:#ff6644;box-shadow:0 0 8px #ff6644;}
#diamond-block{width:26vw;display:flex;align-items:center;justify-content:center;border-left:1px solid #1a3f6a;}
#diamond{position:relative;width:18vw;height:18vw;}
.base{position:absolute;width:6vw;height:6vw;background:#1a3050;border:2px solid #3a6090;transform:rotate(45deg);transition:all .2s;}
.base.on{background:#f0c040;border-color:#f0e040;box-shadow:0 0 12px rgba(240,192,64,.8);}
#b2{top:0;left:50%;transform:translateX(-50%) rotate(45deg);}
#b3{top:50%;left:0;transform:translateY(-50%) rotate(45deg);}
#b1{top:50%;right:0;transform:translateY(-50%) rotate(45deg);}
#bH{bottom:0;left:50%;transform:translateX(-50%) rotate(45deg);width:4.5vw;height:4.5vw;background:#fff2;border-color:#fff5;}
#table-area{flex-shrink:0;height:18vw;background:#030810;border-top:1px solid #1a3f6a;border-bottom:1px solid #1a3f6a;overflow:hidden;padding:0 2vw;display:flex;align-items:center;}
#inn-table{width:100%;border-collapse:collapse;font-size:3vw;}
#inn-table th{color:#5577aa;font-size:2.6vw;padding:0 .6vw;text-align:center;font-weight:normal;}
#inn-table td{text-align:center;padding:0 .6vw;font-variant-numeric:tabular-nums;}
.tname{text-align:left !important;font-weight:bold;color:#9abacc;min-width:16vw;font-size:2.8vw;}
.home-row td{color:#60b0ff;}.away-row td{color:#ff8080;}
.cur-inn{background:rgba(240,192,64,.15);color:#f0c040 !important;}
.score-total{font-weight:900;font-size:3.5vw !important;}
.rhe-col{color:#f0c040 !important;font-weight:bold;}
.divider{border-right:1px solid #1a3f6a;}
#ticker{flex-shrink:0;height:8vw;background:#080f1c;border-top:1px solid #1a3f6a;display:flex;align-items:center;overflow:hidden;}
#ticker-badge{flex-shrink:0;background:#f0c040;color:#000;font-weight:900;font-size:2.8vw;padding:.5vw 2vw;margin-right:2vw;}
#ticker-wrap{flex:1;overflow:hidden;}
#ticker-txt{display:inline-block;white-space:nowrap;font-size:3vw;color:#b8ccd8;animation:scroll 30s linear infinite;}
@keyframes scroll{0%{transform:translateX(100vw)}100%{transform:translateX(-100%)}}
#toast{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,.85);border:1px solid #f0c040;border-radius:3vw;padding:3vw 6vw;font-size:4.5vw;color:#f0c040;font-weight:bold;text-align:center;white-space:nowrap;opacity:0;pointer-events:none;transition:opacity .25s;z-index:9999;}
#hint-btn{position:fixed;bottom:4vw;right:4vw;width:12vw;height:12vw;border-radius:50%;background:rgba(240,192,64,.9);border:none;color:#000;font-size:5vw;font-weight:900;display:flex;align-items:center;justify-content:center;z-index:2000;box-shadow:0 2px 12px rgba(0,0,0,.5);cursor:pointer;}
#hint-panel{position:fixed;inset:0;z-index:1999;background:rgba(0,0,0,.75);display:none;align-items:flex-end;}
#hint-panel.open{display:flex;}
#hint-sheet{width:100%;background:#0a1828;border-top:2px solid #1a3f6a;border-radius:4vw 4vw 0 0;padding:4vw;max-height:85vh;overflow-y:auto;}
#hint-sheet h2{font-size:4.5vw;color:#f0c040;margin-bottom:3vw;text-align:center;}
.hint-section{margin-bottom:4vw;}
.hint-section h3{font-size:3.8vw;color:#7ad4ff;margin-bottom:2vw;border-bottom:1px solid #1a3f6a;padding-bottom:1.5vw;}
.hint-row{display:flex;align-items:flex-start;gap:2vw;margin-bottom:2vw;}
.hint-icon{font-size:5vw;width:8vw;flex-shrink:0;text-align:center;}
.hint-desc{font-size:3.2vw;color:#c0d0e0;line-height:1.6;flex:1;}
.hint-desc strong{color:#f0c040;}
.hint-close{width:100%;padding:3vw;background:#1a3050;border:1px solid #2a5080;border-radius:2vw;color:#c0d8f0;font-size:4vw;font-weight:bold;cursor:pointer;margin-top:2vw;}
/* PWA install banner */
#install-bar{position:fixed;top:0;left:0;right:0;z-index:5000;background:#f0c040;color:#000;display:flex;align-items:center;justify-content:space-between;padding:2.5vw 4vw;font-size:3.2vw;font-weight:bold;transform:translateY(-100%);transition:transform .4s;}
#install-bar.show{transform:translateY(0);}
#install-bar button{background:#000;color:#f0c040;border:none;border-radius:2vw;padding:1.5vw 4vw;font-size:3vw;font-weight:bold;cursor:pointer;}
#install-bar .dismiss{background:transparent;color:#000;font-size:4vw;padding:1vw 2vw;}
/* Edit modal */
#edit-modal{position:fixed;inset:0;z-index:3000;background:rgba(0,0,0,.75);display:none;align-items:flex-end;}
#edit-modal.open{display:flex;}
#edit-sheet{width:100%;background:#0a1828;border-top:2px solid #1a3f6a;border-radius:4vw 4vw 0 0;padding:4vw;max-height:70vh;overflow-y:auto;}
#edit-title{font-size:4.5vw;color:#f0c040;text-align:center;margin-bottom:4vw;}
#edit-content{display:flex;flex-direction:column;gap:3vw;}
.edit-row{display:flex;align-items:center;gap:3vw;}
.edit-lbl{font-size:3.5vw;color:#88aacc;min-width:20vw;}
.edit-inp{flex:1;background:#060f1e;border:1px solid #2a4a6a;border-radius:2vw;color:#e0e8f0;padding:2.5vw 3vw;font-size:4vw;font-family:'Microsoft JhengHei',Arial,sans-serif;}
.edit-inp:focus{outline:none;border-color:#f0c040;}
.edit-btns{display:flex;gap:3vw;margin-top:2vw;}
.edit-btn{flex:1;padding:3.5vw;border-radius:2vw;font-size:4vw;font-weight:bold;cursor:pointer;border:none;}
.edit-btn.cancel{background:#1a3050;color:#c0d8f0;}
.edit-btn.confirm{background:#f0c040;color:#000;}
.ripple-container{position:relative;overflow:hidden;}
.ripple{position:absolute;border-radius:50%;background:rgba(255,255,255,.3);pointer-events:none;transform:scale(0);animation:ripple-anim .4s ease-out forwards;}
@keyframes ripple-anim{to{transform:scale(4);opacity:0;}}
@keyframes flash-green{0%,100%{background:inherit}50%{background:rgba(80,221,80,.25)}}
@keyframes flash-yellow{0%,100%{background:inherit}50%{background:rgba(240,192,64,.3)}}
@keyframes flash-red{0%,100%{background:inherit}50%{background:rgba(255,80,80,.3)}}
.flash-g{animation:flash-green .4s;}.flash-y{animation:flash-yellow .4s;}.flash-r{animation:flash-red .4s;}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LANDSCAPE LAYOUT â€” Pixel 9 Pro 1088Ã—488
   orientation:landscape ã®ã¨ãå…¨é¢å†è¨­è¨ˆ
   å·¦åŠï¼šä¸»å®¢éšŠå¾—åˆ† | å³åŠï¼šå±€BSOå£˜åŒ…+è¡¨æ ¼
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
/* â•â• LANDSCAPE â€” Pixel 9 Pro 1088Ã—488 CSS px â•â• */
@media (orientation: landscape) {
  /* Grid é‡æ’ï¼štopbar å…¨å¯¬ï¼Œä¸‹æ–¹å·¦38%å¾—åˆ†å€ å³62%æ“æ§å€ */
  #sb {
    display: grid;
    grid-template-rows: 7vh 1fr;
    grid-template-columns: 36% 64%;
    grid-template-areas:
      "topbar topbar"
      "scores right";
    height: 100vh;
    overflow: hidden;
  }
  #top-bar {
    grid-area: topbar;
    height: 7vh;
    padding: 0 2vw;
  }
  #game-title { font-size: 2vh; }
  #clock { font-size: 1.8vh; }

  /* å·¦æ¬„ï¼šä¸Šä¸‹å„åŠï¼Œä¸»éšŠä¸Šã€å®¢éšŠä¸‹ */
  #scores-area {
    grid-area: scores;
    flex-direction: column;
    height: auto;
    border-right: 1px solid #1a3f6a;
    overflow: hidden;
  }
  .team-col { padding: 1vh 2vw; }
  .team-ha { font-size: 1.4vh; margin-bottom: 0.2vh; }
  .team-name { font-size: 2.4vh; margin-bottom: 0.2vh; }
  .team-score { font-size: 10vh; line-height: 1; }
  .pitcher-label { font-size: 1.2vh; margin-top: 0.4vh; }
  .pitcher-name { font-size: 1.6vh; }

  /* å³æ¬„å®¹å™¨ */
  #right-col {
    grid-area: right;
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
  }

  /* center-stripï¼šBSO + å£˜åŒ…ï¼Œé«˜åº¦ 46% */
  #center-strip {
    flex: 0 0 46%;
    height: 46%;
    border-top: none;
    border-bottom: 1px solid #1a3f6a;
    display: flex;
    flex-direction: row;
  }
  #inning-block {
    width: 15%;
    border-right: 1px solid #1a3f6a;
  }
  #inning-label { font-size: 1.4vh; }
  #inning-num { font-size: 7vh; }
  #inning-arrow { font-size: 2.2vh; margin-top: -0.5vh; }

  #bso-block { padding: 0 2vw; gap: 1.2vh; }
  .bso-row { gap: 1.8vw; }
  .bso-lbl { font-size: 2vh; width: 3vw; }
  .bso-dots { gap: 1.8vw; }
  .dot { width: 3vw; height: 3vw; border-width: 1.5px; }

  #diamond-block { width: 22%; }
  #diamond { width: 12vw; height: 12vw; }
  .base { width: 3.8vw; height: 3.8vw; }
  #bH { width: 3.2vw; height: 3.2vw; }

  /* å¾—åˆ†è¡¨ï¼šä½”å‰©é¤˜ç©ºé–“ */
  #table-area {
    flex: 1;
    height: auto;
    padding: 0 1.5vw;
    border-bottom: 1px solid #1a3f6a;
    overflow: hidden;
  }
  #inn-table { font-size: 1.6vh; }
  #inn-table th { font-size: 1.4vh; padding: 0 0.5vw; }
  #inn-table td { padding: 0 0.5vw; }
  .tname { font-size: 1.5vh; min-width: 9vw; }
  .score-total { font-size: 2vh !important; }

  /* è·‘é¦¬ç‡ˆ */
  #ticker { flex: 0 0 6vh; height: 6vh; }
  #ticker-badge { font-size: 1.5vh; padding: 0.3vh 1.5vw; margin-right: 1.5vw; }
  #ticker-txt { font-size: 1.6vh; }

  /* èªªæ˜æŒ‰éˆ• & Toast */
  #hint-btn { width: 5.5vw; height: 5.5vw; font-size: 2.2vw; bottom: 1.5vw; right: 1.5vw; }
  #toast { font-size: 2.4vh; padding: 1.5vh 3vw; border-radius: 1.5vw; }
  #install-bar { font-size: 1.6vh; padding: 1vh 2vw; }
  #install-bar button { font-size: 1.4vh; padding: 0.6vh 2vw; }
}
</style>
</head>
<body>

<!-- PWA INSTALL BANNER -->
<div id="install-bar">
  <span>ğŸ“² åŠ å…¥ä¸»ç•«é¢ï¼Œåƒ App ä¸€æ¨£é–‹å•Ÿï¼</span>
  <button id="install-btn">å®‰è£</button>
  <button class="dismiss" id="install-dismiss">âœ•</button>
</div>

<!-- SCOREBOARD -->
<div id="sb">
  <div id="top-bar">
    <div id="clock">00:00:00</div>
    <div id="game-title">2026 ä¸­è¯è·æ£’</div>
    <div style="visibility:hidden;font-size:3vw">00:00</div>
  </div>
  <div id="scores-area">
    <div class="team-col home ripple-container" id="home-col">
      <div class="team-ha">ä¸»éšŠ</div>
      <div class="team-name" id="home-name">çµ±ä¸€ç…</div>
      <div class="team-score" id="home-score">0</div>
      <div class="pitcher-label">æŠ•æ‰‹</div>
      <div class="pitcher-name" id="home-pitcher">ç¾…åŠ›</div>
      <div class="score-hint" id="home-hint">å–®æ“Š +1åˆ†<br>é›™æ“Š -1åˆ†<br>é•·æŒ‰ ä¿®æ”¹è¨­å®š</div>
    </div>
    <div class="team-col away ripple-container" id="away-col">
      <div class="team-ha">å®¢éšŠ</div>
      <div class="team-name" id="away-name">ä¸­ä¿¡å…„å¼Ÿ</div>
      <div class="team-score" id="away-score">0</div>
      <div class="pitcher-label">æŠ•æ‰‹</div>
      <div class="pitcher-name" id="away-pitcher">é™³ä»å’Œ</div>
      <div class="score-hint" id="away-hint">å–®æ“Š +1åˆ†<br>é›™æ“Š -1åˆ†<br>é•·æŒ‰ ä¿®æ”¹è¨­å®š</div>
    </div>
  </div>
  <div id="right-col">
  <div id="center-strip">
    <div id="inning-block">
      <div id="inning-label">å±€</div>
      <div id="inning-num">1</div>
      <div id="inning-arrow">â–²</div>
    </div>
    <div id="bso-block">
      <div class="bso-row" id="bso-B">
        <span class="bso-lbl b">B</span>
        <div class="bso-dots">
          <div class="dot b" data-type="b" data-idx="0"></div>
          <div class="dot b" data-type="b" data-idx="1"></div>
          <div class="dot b" data-type="b" data-idx="2"></div>
        </div>
      </div>
      <div class="bso-row" id="bso-S">
        <span class="bso-lbl s">S</span>
        <div class="bso-dots">
          <div class="dot s" data-type="s" data-idx="0"></div>
          <div class="dot s" data-type="s" data-idx="1"></div>
        </div>
      </div>
      <div class="bso-row" id="bso-O">
        <span class="bso-lbl o">O</span>
        <div class="bso-dots">
          <div class="dot o" data-type="o" data-idx="0"></div>
          <div class="dot o" data-type="o" data-idx="1"></div>
        </div>
      </div>
    </div>
    <div id="diamond-block">
      <div id="diamond">
        <div class="base" id="b2"></div>
        <div class="base" id="b3"></div>
        <div class="base" id="b1"></div>
        <div class="base" id="bH"></div>
      </div>
    </div>
  </div>
  <div id="table-area">
    <table id="inn-table">
      <thead>
        <tr>
          <th></th>
          <th>1</th><th>2</th><th>3</th><th>4</th><th>5</th>
          <th>6</th><th>7</th><th>8</th><th>9</th>
          <th class="divider"></th>
          <th class="rhe-col">R</th><th class="rhe-col">H</th><th class="rhe-col">E</th>
        </tr>
      </thead>
      <tbody>
        <tr class="home-row">
          <td class="tname" id="home-tname">çµ±ä¸€ç…</td>
          <td id="hi1"></td><td id="hi2"></td><td id="hi3"></td><td id="hi4"></td>
          <td id="hi5"></td><td id="hi6"></td><td id="hi7"></td><td id="hi8"></td><td id="hi9"></td>
          <td class="divider"></td>
          <td class="score-total rhe-col" id="home-R">0</td>
          <td class="rhe-col" id="home-H">0</td>
          <td class="rhe-col" id="home-E">0</td>
        </tr>
        <tr class="away-row">
          <td class="tname" id="away-tname">ä¸­ä¿¡å…„å¼Ÿ</td>
          <td id="ai1"></td><td id="ai2"></td><td id="ai3"></td><td id="ai4"></td>
          <td id="ai5"></td><td id="ai6"></td><td id="ai7"></td><td id="ai8"></td><td id="ai9"></td>
          <td class="divider"></td>
          <td class="score-total rhe-col" id="away-R">0</td>
          <td class="rhe-col" id="away-H">0</td>
          <td class="rhe-col" id="away-E">0</td>
        </tr>
      </tbody>
    </table>
  </div>
  <div id="ticker">
    <div id="ticker-badge">ç›´æ’­</div>
    <div id="ticker-wrap">
      <span id="ticker-txt">æ­¡è¿æ”¶çœ‹ä¸­è¯è·æ£’ç›´æ’­ â€” é•·æŒ‰è·‘é¦¬ç‡ˆå¯ä¿®æ”¹æ–‡å­— â€” å·¦å³æ»‘å‹•å¯åˆ‡æ›å±€æ•¸</span>
    </div>
  </div>
  </div><!-- end right-col -->
</div><!-- end sb -->

<div id="toast"></div>
<button id="hint-btn">?</button>

<!-- HELP PANEL -->
<div id="hint-panel">
  <div id="hint-sheet">
    <h2>è§¸æ§æ“ä½œèªªæ˜</h2>
    <div class="hint-section">
      <h3>å¾—åˆ†å€ï¼ˆä¸»éšŠ / å®¢éšŠï¼‰</h3>
      <div class="hint-row"><div class="hint-icon">ğŸ‘†</div><div class="hint-desc"><strong>å–®æ“Š</strong> â†’ è©²éšŠ +1 åˆ†</div></div>
      <div class="hint-row"><div class="hint-icon">âœŒï¸</div><div class="hint-desc"><strong>é›™æ“Š</strong> â†’ è©²éšŠ -1 åˆ†</div></div>
      <div class="hint-row"><div class="hint-icon">â±ï¸</div><div class="hint-desc"><strong>é•·æŒ‰</strong> â†’ ä¿®æ”¹éšŠåã€æŠ•æ‰‹ã€å®‰æ‰“ã€å¤±èª¤ã€åˆ†æ•¸</div></div>
    </div>
    <div class="hint-section">
      <h3>BSO ç‡ˆè™Ÿ</h3>
      <div class="hint-row"><div class="hint-icon">ğŸ‘†</div><div class="hint-desc"><strong>å–®æ“Š B è¡Œ</strong> â†’ å£çƒ +1ï¼ˆ3ç‡ˆäº®æ»¿å¾Œç¬¬4æ¬¡è‡ªå‹•æ¸…é™¤ï¼‰</div></div>
      <div class="hint-row"><div class="hint-icon">ğŸ‘†</div><div class="hint-desc"><strong>å–®æ“Š S è¡Œ</strong> â†’ å¥½çƒ +1ï¼ˆ2ç‡ˆäº®æ»¿å¾Œç¬¬3æ¬¡è‡ªå‹•æ¸…é™¤ï¼‰</div></div>
      <div class="hint-row"><div class="hint-icon">ğŸ‘†</div><div class="hint-desc"><strong>å–®æ“Š O è¡Œ</strong> â†’ å‡ºå±€ +1ï¼ˆç¬¬3æ¬¡æ¸…é™¤ B/S/O å…¨éƒ¨ä¸¦æ›å±€ï¼‰</div></div>
      <div class="hint-row"><div class="hint-icon">âœŒï¸</div><div class="hint-desc"><strong>é›™æ“Š B è¡Œ</strong> â†’ æ¸…é™¤å£çƒç‡ˆè™Ÿ</div></div>
      <div class="hint-row"><div class="hint-icon">âœŒï¸</div><div class="hint-desc"><strong>é›™æ“Š S è¡Œ</strong> â†’ æ¸…é™¤å¥½çƒç‡ˆè™Ÿ</div></div>
      <div class="hint-row"><div class="hint-icon">âœŒï¸</div><div class="hint-desc"><strong>é›™æ“Š O è¡Œ</strong> â†’ æ¸…é™¤ B/S/O å…¨éƒ¨ç‡ˆè™Ÿ</div></div>
    </div>
    <div class="hint-section">
      <h3>å±€æ•¸</h3>
      <div class="hint-row"><div class="hint-icon">ğŸ‘†</div><div class="hint-desc"><strong>å–®æ“Šå±€æ•¸</strong> â†’ åˆ‡æ›ä¸Šâ–² / ä¸‹â–½ åŠå±€</div></div>
      <div class="hint-row"><div class="hint-icon">âœŒï¸</div><div class="hint-desc"><strong>é›™æ“Šå±€æ•¸</strong> â†’ æ›å±€ +1</div></div>
      <div class="hint-row"><div class="hint-icon">â±ï¸</div><div class="hint-desc"><strong>é•·æŒ‰å±€æ•¸</strong> â†’ ç›´æ¥è¼¸å…¥å±€æ•¸</div></div>
      <div class="hint-row"><div class="hint-icon">â¬…ï¸</div><div class="hint-desc"><strong>å·¦æ»‘ç•«é¢</strong> â†’ ä¸‹ä¸€åŠå±€</div></div>
      <div class="hint-row"><div class="hint-icon">â¡ï¸</div><div class="hint-desc"><strong>å³æ»‘ç•«é¢</strong> â†’ ä¸Šä¸€åŠå±€</div></div>
    </div>
    <div class="hint-section">
      <h3>å£˜åŒ…</h3>
      <div class="hint-row"><div class="hint-icon">ğŸ‘†</div><div class="hint-desc"><strong>å–®æ“Šå£˜åŒ…ä½ç½®</strong> â†’ åˆ‡æ›è·‘è€…ï¼ˆä¸€/äºŒ/ä¸‰å£˜ï¼‰</div></div>
      <div class="hint-row"><div class="hint-icon">â±ï¸</div><div class="hint-desc"><strong>é•·æŒ‰å£˜åŒ…å€</strong> â†’ æ¸…ç©ºæ‰€æœ‰å£˜åŒ…</div></div>
    </div>
    <div class="hint-section">
      <h3>å…¶ä»–</h3>
      <div class="hint-row"><div class="hint-icon">â±ï¸</div><div class="hint-desc"><strong>é•·æŒ‰è·‘é¦¬ç‡ˆ</strong> â†’ ä¿®æ”¹æ–‡å­—èˆ‡é€Ÿåº¦</div></div>
      <div class="hint-row"><div class="hint-icon">â±ï¸</div><div class="hint-desc"><strong>é•·æŒ‰æ¨™é¡Œ</strong> â†’ ä¿®æ”¹è³½äº‹åç¨±</div></div>
    </div>
    <button class="hint-close" id="hint-close">é—œé–‰</button>
  </div>
</div>

<!-- EDIT MODAL -->
<div id="edit-modal">
  <div id="edit-sheet">
    <div id="edit-title">è¨­å®š</div>
    <div id="edit-content"></div>
    <div class="edit-btns">
      <button class="edit-btn cancel" id="edit-cancel">å–æ¶ˆ</button>
      <button class="edit-btn confirm" id="edit-confirm">ç¢ºå®š</button>
    </div>
  </div>
</div>

<script>
/* â”€â”€ STATE â”€â”€ */
const state = {
  inning:1, isTop:true,
  balls:0, strikes:0, outs:0,
  bases:[false,false,false],
  home:{name:'çµ±ä¸€ç…',score:0,pitcher:'ç¾…åŠ›',h:0,e:0,innings:Array(9).fill(null)},
  away:{name:'ä¸­ä¿¡å…„å¼Ÿ',score:0,pitcher:'é™³ä»å’Œ',h:0,e:0,innings:Array(9).fill(null)},
  gameTitle:'2026 ä¸­è¯è·æ£’',
  ticker:'æ­¡è¿æ”¶çœ‹ä¸­è¯è·æ£’ç›´æ’­ â€” é•·æŒ‰è·‘é¦¬ç‡ˆå¯ä¿®æ”¹æ–‡å­— â€” å·¦å³æ»‘å‹•å¯åˆ‡æ›å±€æ•¸',
  tickerSpeed:30,
};

/* â”€â”€ RENDER â”€â”€ */
function render(){
  document.getElementById('home-score').textContent=state.home.score;
  document.getElementById('away-score').textContent=state.away.score;
  document.getElementById('home-name').textContent=state.home.name;
  document.getElementById('away-name').textContent=state.away.name;
  document.getElementById('home-pitcher').textContent=state.home.pitcher;
  document.getElementById('away-pitcher').textContent=state.away.pitcher;
  document.getElementById('home-tname').textContent=state.home.name;
  document.getElementById('away-tname').textContent=state.away.name;
  document.getElementById('game-title').textContent=state.gameTitle;
  document.getElementById('inning-num').textContent=state.inning;
  document.getElementById('inning-arrow').textContent=state.isTop?'â–²':'â–½';
  ['b','s','o'].forEach(t=>{
    const cnt=t==='b'?state.balls:t==='s'?state.strikes:state.outs;
    document.querySelectorAll('.dot.'+t).forEach((d,i)=>d.classList.toggle('on',i<cnt));
  });
  ['b1','b2','b3'].forEach((id,i)=>document.getElementById(id).classList.toggle('on',state.bases[i]));
  for(let i=0;i<9;i++){
    const cur=(i===state.inning-1);
    const hv=state.home.innings[i]; const av=state.away.innings[i];
    const hc=document.getElementById('hi'+(i+1)); const ac=document.getElementById('ai'+(i+1));
    hc.textContent=hv!==null?hv:''; hc.className=cur?'cur-inn':'';
    ac.textContent=av!==null?av:''; ac.className=cur?'cur-inn':'';
  }
  document.getElementById('home-R').textContent=state.home.score;
  document.getElementById('away-R').textContent=state.away.score;
  document.getElementById('home-H').textContent=state.home.h;
  document.getElementById('away-H').textContent=state.away.h;
  document.getElementById('home-E').textContent=state.home.e;
  document.getElementById('away-E').textContent=state.away.e;
  const tt=document.getElementById('ticker-txt');
  tt.textContent=state.ticker; tt.style.animationDuration=state.tickerSpeed+'s';
}

/* â”€â”€ TOAST â”€â”€ */
let toastT;
function toast(msg,dur=1400){
  const t=document.getElementById('toast');
  t.textContent=msg; t.style.opacity=1;
  clearTimeout(toastT); toastT=setTimeout(()=>t.style.opacity=0,dur);
}

/* â”€â”€ FLASH â”€â”€ */
function flash(el,cls){el.classList.remove('flash-g','flash-y','flash-r');void el.offsetWidth;el.classList.add(cls);setTimeout(()=>el.classList.remove(cls),400);}

/* â”€â”€ RIPPLE â”€â”€ */
function ripple(el,x,y){
  const r=document.createElement('div'); r.className='ripple';
  const rect=el.getBoundingClientRect(); const sz=Math.max(rect.width,rect.height)*2;
  r.style.cssText=`width:${sz}px;height:${sz}px;left:${x-rect.left-sz/2}px;top:${y-rect.top-sz/2}px`;
  el.appendChild(r); setTimeout(()=>r.remove(),500);
}

/* â”€â”€ INNING â”€â”€ */
function nextHalf(){
  if(state.isTop){state.isTop=false;}
  else{state.isTop=true;state.inning=Math.min(state.inning+1,20);}
  state.balls=0;state.strikes=0;state.outs=0;state.bases=[false,false,false];
  toast(state.inning+'å±€ '+(state.isTop?'ä¸Š':'ä¸‹')+'åŠ');render();
}
function prevHalf(){
  if(!state.isTop){state.isTop=true;}
  else if(state.inning>1){state.inning--;state.isTop=false;}
  state.balls=0;state.strikes=0;state.outs=0;state.bases=[false,false,false];
  toast(state.inning+'å±€ '+(state.isTop?'ä¸Š':'ä¸‹')+'åŠ');render();
}
function addScore(team,d){
  const t=state[team]; t.score=Math.max(0,t.score+d);
  const inn=state.inning-1;
  if(inn>=0&&inn<9){if(t.innings[inn]===null)t.innings[inn]=0;t.innings[inn]=Math.max(0,(t.innings[inn]||0)+d);}
  render();
}

/* â”€â”€ GESTURE FACTORY â”€â”€ */
function mkGesture(el,{onTap,onDoubleTap,onLongPress,onSwipeLeft,onSwipeRight}={}){
  let sx,sy,st,timer=null,lastTap=0,moved=false;
  const LONG=600,DBL=280,MOVE=12;
  function cancel(){clearTimeout(timer);timer=null;}
  el.addEventListener('touchstart',e=>{
    const t=e.touches[0]; sx=t.clientX;sy=t.clientY;st=Date.now();moved=false;
    timer=setTimeout(()=>{if(!moved){timer=null;if(onLongPress)onLongPress(e,sx,sy);}},LONG);
  },{passive:true});
  el.addEventListener('touchmove',e=>{
    const t=e.touches[0];
    if(Math.abs(t.clientX-sx)>MOVE||Math.abs(t.clientY-sy)>MOVE){moved=true;cancel();}
  },{passive:true});
  el.addEventListener('touchend',e=>{
    if(timer){cancel();}
    if(moved){
      const dx=e.changedTouches[0].clientX-sx,dy=Math.abs(e.changedTouches[0].clientY-sy);
      if(Math.abs(dx)>45&&dy<70){
        if(dx<0&&onSwipeLeft)onSwipeLeft(e);
        if(dx>0&&onSwipeRight)onSwipeRight(e);
      }return;
    }
    const now=Date.now(),gap=now-lastTap;
    if(gap<DBL&&gap>0){lastTap=0;if(onDoubleTap)onDoubleTap(e,sx,sy);}
    else{lastTap=now;setTimeout(()=>{if(lastTap===now){lastTap=0;if(onTap)onTap(e,sx,sy);}},DBL);}
  },{passive:true});
}

/* â”€â”€ EDIT MODAL â”€â”€ */
let editCb=null;
function openEdit(title,fields,cb){
  editCb=cb;
  document.getElementById('edit-title').textContent=title;
  const c=document.getElementById('edit-content'); c.innerHTML='';
  fields.forEach(f=>{
    const row=document.createElement('div'); row.className='edit-row';
    row.innerHTML=`<span class="edit-lbl">${f.label}</span><input class="edit-inp" id="ef-${f.key}" type="${f.type||'text'}" value="${f.value!==undefined?f.value:''}" placeholder="${f.placeholder||''}" inputmode="${f.inputmode||'text'}">`;
    c.appendChild(row);
  });
  document.getElementById('edit-modal').classList.add('open');
  setTimeout(()=>c.querySelector('input')?.focus(),100);
}
document.getElementById('edit-confirm').onclick=()=>{
  if(editCb){const r={};document.querySelectorAll('#edit-content .edit-inp').forEach(i=>r[i.id.replace('ef-','')]=i.value);editCb(r);}
  document.getElementById('edit-modal').classList.remove('open');
};
document.getElementById('edit-cancel').onclick=()=>document.getElementById('edit-modal').classList.remove('open');
document.getElementById('edit-modal').addEventListener('touchend',e=>{if(e.target===document.getElementById('edit-modal'))document.getElementById('edit-modal').classList.remove('open');});

/* â”€â”€ HINT PANEL â”€â”€ */
document.getElementById('hint-btn').onclick=()=>document.getElementById('hint-panel').classList.add('open');
document.getElementById('hint-close').onclick=()=>document.getElementById('hint-panel').classList.remove('open');
document.getElementById('hint-panel').addEventListener('touchend',e=>{if(e.target===document.getElementById('hint-panel'))document.getElementById('hint-panel').classList.remove('open');});

/* â”€â”€ SCORE AREA â”€â”€ */
['home','away'].forEach(team=>{
  const col=document.getElementById(team+'-col');
  const hint=document.getElementById(team+'-hint');
  mkGesture(col,{
    onTap(e,x,y){ripple(col,x,y);addScore(team,+1);flash(col,team==='home'?'flash-g':'flash-y');toast(state[team].name+' +1 â†’ '+state[team].score);},
    onDoubleTap(e,x,y){ripple(col,x,y);addScore(team,-1);toast(state[team].name+' -1 â†’ '+state[team].score);},
    onLongPress(){
      openEdit((team==='home'?'ä¸»éšŠ':'å®¢éšŠ')+'è¨­å®š',[
        {key:'name',label:'éšŠå',value:state[team].name},
        {key:'pitcher',label:'æŠ•æ‰‹',value:state[team].pitcher},
        {key:'h',label:'å®‰æ‰“ H',value:state[team].h,type:'number',inputmode:'numeric'},
        {key:'e',label:'å¤±èª¤ E',value:state[team].e,type:'number',inputmode:'numeric'},
        {key:'score',label:'ç•¶å‰åˆ†æ•¸',value:state[team].score,type:'number',inputmode:'numeric'},
      ],r=>{
        state[team].name=r.name||state[team].name;
        state[team].pitcher=r.pitcher||state[team].pitcher;
        state[team].h=parseInt(r.h)||0;state[team].e=parseInt(r.e)||0;
        const s=parseInt(r.score);if(!isNaN(s))state[team].score=Math.max(0,s);
        render();
      });
    },
  });
  // Brief hint on load
  setTimeout(()=>{hint.style.opacity=1;setTimeout(()=>hint.style.opacity=0,2200);},(team==='home'?600:900));
});

/* â”€â”€ INNING BLOCK â”€â”€ */
mkGesture(document.getElementById('inning-block'),{
  onTap(){state.isTop=!state.isTop;state.balls=0;state.strikes=0;state.outs=0;toast(state.inning+'å±€ '+(state.isTop?'ä¸Š':'ä¸‹')+'åŠ');render();},
  onDoubleTap(){nextHalf();},
  onLongPress(){openEdit('å±€æ•¸è¨­å®š',[{key:'inning',label:'å±€æ•¸',value:state.inning,type:'number',inputmode:'numeric'}],r=>{const n=parseInt(r.inning);if(n>=1&&n<=20){state.inning=n;render();}});},
});

/* â”€â”€ BSO â”€â”€ */
// å–®æ“Šå„ row åŠ ç‡ˆï¼›é›™æ“Šå„ row æ¸…é™¤è©²è¡Œ
// B: 3ç‡ˆï¼Œç¬¬4æ¬¡é»æ“Šæ¸…é™¤ï¼›S: 2ç‡ˆï¼Œç¬¬3æ¬¡é»æ“Šæ¸…é™¤ï¼›O: ç¬¬3æ¬¡é»æ“Šæ¸…é™¤B+S+Oå…¨éƒ¨
function checkOuts(){if(state.outs>=3){state.outs=0;state.balls=0;state.strikes=0;state.bases=[false,false,false];setTimeout(nextHalf,400);}}

['B','S','O'].forEach(t=>{
  const row=document.getElementById('bso-'+t);if(!row)return;
  const flashCls=t==='B'?'flash-g':t==='S'?'flash-y':'flash-r';
  mkGesture(row,{
    onTap(){
      if(t==='B'){
        state.balls++;
        if(state.balls>=4){state.balls=0;toast('å››å£çƒ â€” æ‰“è€…ä¸Šå£˜ï¼');}
        else{flash(row,flashCls);}
      }else if(t==='S'){
        state.strikes++;
        if(state.strikes>=3){state.strikes=0;toast('ä¸‰æŒ¯å‡ºå±€ï¼');flash(row,flashCls);state.outs++;checkOuts();}
        else{flash(row,flashCls);}
      }else{
        state.outs++;
        if(state.outs>=3){flash(row,flashCls);checkOuts();}
        else{flash(row,flashCls);}
      }
      render();
    },
    onDoubleTap(){
      if(t==='B'){state.balls=0;toast('å£çƒ æ¸…é™¤');}
      else if(t==='S'){state.strikes=0;toast('å¥½çƒ æ¸…é™¤');}
      else{state.outs=0;state.balls=0;state.strikes=0;toast('å‡ºå±€ â€” BSO å…¨æ¸…');}
      render();
    }
  });
});
mkGesture(document.getElementById('bso-block'),{onDoubleTap(){state.balls=0;state.strikes=0;state.outs=0;toast('BSO å…¨æ¸…');render();}});

/* â”€â”€ BASES â”€â”€ */
document.getElementById('diamond-block').addEventListener('touchend',e=>{
  const t=e.changedTouches[0],rect=document.getElementById('diamond-block').getBoundingClientRect();
  const rx=(t.clientX-rect.left)/rect.width,ry=(t.clientY-rect.top)/rect.height;
  let hit=-1;
  if(ry<0.45)hit=1;else if(ry>=0.35&&rx<0.45)hit=2;else if(ry>=0.35&&rx>0.55)hit=0;
  if(hit>=0){state.bases[hit]=!state.bases[hit];toast(['ä¸€å£˜','äºŒå£˜','ä¸‰å£˜'][hit]+(state.bases[hit]?' ä¸Šå£˜':' é›¢å£˜'));render();}
},{passive:true});
mkGesture(document.getElementById('diamond-block'),{onLongPress(){state.bases=[false,false,false];toast('å£˜åŒ…æ¸…ç©º');render();}});

/* â”€â”€ GLOBAL SWIPE â”€â”€ */
mkGesture(document.getElementById('sb'),{onSwipeLeft:nextHalf,onSwipeRight:prevHalf});

/* â”€â”€ TICKER â”€â”€ */
mkGesture(document.getElementById('ticker'),{onLongPress(){
  openEdit('è·‘é¦¬ç‡ˆè¨­å®š',[
    {key:'ticker',label:'æ–‡å­—',value:state.ticker,placeholder:'è·‘é¦¬ç‡ˆå…§å®¹...'},
    {key:'speed',label:'é€Ÿåº¦(ç§’)',value:state.tickerSpeed,type:'number',inputmode:'numeric'},
  ],r=>{if(r.ticker)state.ticker=r.ticker;const s=parseInt(r.speed);if(s>0)state.tickerSpeed=s;render();});
}});

/* â”€â”€ TITLE â”€â”€ */
mkGesture(document.getElementById('game-title'),{onLongPress(){
  openEdit('è³½äº‹åç¨±',[{key:'title',label:'åç¨±',value:state.gameTitle}],r=>{if(r.title)state.gameTitle=r.title;render();});
}});

/* â”€â”€ CLOCK â”€â”€ */
function updateClock(){const n=new Date(),h=String(n.getHours()).padStart(2,'0'),m=String(n.getMinutes()).padStart(2,'0'),s=String(n.getSeconds()).padStart(2,'0');document.getElementById('clock').textContent=h+':'+m+':'+s;}
updateClock();setInterval(updateClock,1000);

/* â”€â”€ PREVENT DEFAULTS â”€â”€ */
document.addEventListener('contextmenu',e=>e.preventDefault());
let lastTE=0;
document.addEventListener('touchend',e=>{const n=Date.now();if(n-lastTE<300)e.preventDefault();lastTE=n;},{passive:false});

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PWA â€” Manifest & Service Worker (inline/blob)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

// 1. Generate App Icon (SVG â†’ data URI)
const iconSVG = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
  <rect width="512" height="512" rx="80" fill="#060a14"/>
  <rect x="10" y="10" width="492" height="492" rx="74" fill="none" stroke="#1a3f6a" stroke-width="4"/>
  <!-- baseball seam circle -->
  <circle cx="256" cy="256" r="180" fill="none" stroke="#1a3f6a" stroke-width="3"/>
  <!-- HOME team score -->
  <text x="130" y="200" text-anchor="middle" font-family="Arial Black,sans-serif" font-size="120" font-weight="900" fill="#60d0ff">3</text>
  <!-- AWAY team score -->
  <text x="382" y="200" text-anchor="middle" font-family="Arial Black,sans-serif" font-size="120" font-weight="900" fill="#ff8080">2</text>
  <!-- divider -->
  <line x1="256" y1="90" x2="256" y2="290" stroke="#f0c040" stroke-width="4"/>
  <!-- inning -->
  <text x="256" y="360" text-anchor="middle" font-family="Arial Black,sans-serif" font-size="60" font-weight="900" fill="#f0c040">7â–²</text>
  <!-- BSO dots -->
  <circle cx="176" cy="420" r="16" fill="#50dd50"/>
  <circle cx="216" cy="420" r="16" fill="#50dd50"/>
  <circle cx="256" cy="420" r="16" fill="#50dd50"/>
  <circle cx="296" cy="420" r="16" fill="none" stroke="#50dd50" stroke-width="3"/>
  <circle cx="336" cy="420" r="16" fill="#f0c040"/>
  <circle cx="296" cy="450" r="16" fill="none" stroke="#ff6644" stroke-width="3"/>
  <circle cx="336" cy="450" r="16" fill="none" stroke="#ff6644" stroke-width="3"/>
</svg>`;
const iconDataURI = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(iconSVG)));

// 2. Build manifest object
const manifest = {
  name: 'æ£’çƒè¨ˆåˆ†æ¿',
  short_name: 'è¨ˆåˆ†æ¿',
  description: 'æ£’çƒç›´æ’­è¨ˆåˆ†æ¿ â€” è§¸æ§æ“ä½œ',
  start_url: location.href,
  display: 'standalone',
  orientation: 'portrait',
  background_color: '#000000',
  theme_color: '#000000',
  icons: [
    { src: iconDataURI, sizes: '512x512', type: 'image/svg+xml', purpose: 'any maskable' }
  ]
};
const manifestBlob = new Blob([JSON.stringify(manifest)], {type:'application/manifest+json'});
const manifestURL = URL.createObjectURL(manifestBlob);
document.getElementById('pwa-manifest') && (()=>{
  const link = document.createElement('link');
  link.rel = 'manifest'; link.href = manifestURL;
  document.head.appendChild(link);
})();
// Also set apple touch icon
const iconLink = document.createElement('link');
iconLink.rel = 'apple-touch-icon'; iconLink.href = iconDataURI;
document.head.appendChild(iconLink);

// 3. Register Service Worker (inline via Blob)
const swCode = `
const CACHE = 'baseball-v1';
const HTML = ${JSON.stringify(document.documentElement.outerHTML)};
self.addEventListener('install', e => {
  e.waitUntil(caches.open(CACHE).then(c => c.put('/', new Response(HTML, {headers:{'Content-Type':'text/html;charset=utf-8'}}))));
  self.skipWaiting();
});
self.addEventListener('activate', e => { e.waitUntil(self.clients.claim()); });
self.addEventListener('fetch', e => {
  e.respondWith(caches.match(e.request).then(r => r || fetch(e.request).catch(() => caches.match('/'))));
});
`;
if ('serviceWorker' in navigator) {
  const swBlob = new Blob([swCode], {type:'text/javascript'});
  const swURL = URL.createObjectURL(swBlob);
  navigator.serviceWorker.register(swURL, {scope: '/'}).then(reg => {
    console.log('SW registered:', reg.scope);
  }).catch(err => {
    // Blob SW might be blocked on some browsers â€” that's OK, app still works online
    console.warn('SW registration skipped:', err.message);
  });
}

// 4. PWA Install Prompt (Android Chrome)
let deferredPrompt = null;
const installBar = document.getElementById('install-bar');
const installBtn = document.getElementById('install-btn');
const dismissBtn = document.getElementById('install-dismiss');

window.addEventListener('beforeinstallprompt', e => {
  e.preventDefault();
  deferredPrompt = e;
  installBar.classList.add('show');
});
installBtn.addEventListener('click', async () => {
  if (!deferredPrompt) return;
  deferredPrompt.prompt();
  const {outcome} = await deferredPrompt.userChoice;
  if (outcome === 'accepted') toast('å·²åŠ å…¥ä¸»ç•«é¢ï¼', 2000);
  deferredPrompt = null;
  installBar.classList.remove('show');
});
dismissBtn.addEventListener('click', () => installBar.classList.remove('show'));
window.addEventListener('appinstalled', () => { installBar.classList.remove('show'); toast('å®‰è£å®Œæˆï¼', 2000); });

/* â”€â”€ INIT â”€â”€ */
render();
</script>
</body>
</html>
